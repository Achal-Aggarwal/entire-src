<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>~/src/asm/THERMOCONTROLLER.asm.html</title>
<meta name="Generator" content="Vim/7.3">
<meta name="plugin-version" content="vim7.3_v6">
<meta name="syntax" content="asm">
<meta name="settings" content="use_css">
<style type="text/css">
<!--
pre { font-family: monospace; color: #000000; background-color: #ffffff; }
body { font-family: monospace; color: #000000; background-color: #ffffff; }
.Constant { color: #ff00ff; }
.Identifier { color: #008b8b; }
.Comment { color: #0000ff; }
-->
</style>
</head>
<body>
<pre>
<span class="Comment">;sg</span>
<span class="Comment">;c:\emu8086\inc\0_com_template.txt</span>

<span class="Comment">#start=thermometer.exe#</span>


<span class="Comment">#make_bin#</span>

<span class="Identifier">name</span> &quot;<span class="Identifier">led</span>&quot;

<span class="Identifier">org</span> <span class="Constant">100</span><span class="Identifier">h</span>

<span class="Identifier">CHECK</span>:
<span class="Identifier">mov</span> <span class="Identifier">dx</span>,<span class="Constant">125</span>
<span class="Identifier">IN</span> <span class="Identifier">AL</span>,<span class="Identifier">DX</span>
<span class="Identifier">CMP</span> <span class="Identifier">AL</span>, <span class="Constant">75</span>
<span class="Identifier">JBE</span> <span class="Identifier">TURN_ON</span>
<span class="Identifier">JMP</span> <span class="Identifier">TURN_OFF</span>
<span class="Identifier">TURN_ON</span>:
<span class="Identifier">IN</span> <span class="Identifier">AL</span>,<span class="Constant">127</span>
<span class="Identifier">AND</span> <span class="Identifier">AL</span>,0<span class="Constant">1</span><span class="Identifier">Fh</span>
<span class="Identifier">JZ</span> <span class="Identifier">ON</span>
<span class="Identifier">JMP</span> <span class="Identifier">CHECK</span>
<span class="Identifier">ON</span>:
<span class="Identifier">MOV</span> <span class="Identifier">DX</span>,<span class="Constant">127</span>
<span class="Identifier">MOV</span> <span class="Identifier">AL</span>,<span class="Constant">1</span>
<span class="Identifier">OUT</span> <span class="Identifier">DX</span>,<span class="Identifier">AX</span>
<span class="Identifier">MOV</span> <span class="Identifier">DX</span>,<span class="Constant">9</span>
<span class="Identifier">MOV</span> <span class="Identifier">AL</span> ,<span class="Constant">1</span>
<span class="Identifier">OUT</span> <span class="Identifier">DX</span>,<span class="Identifier">AL</span>
<span class="Identifier">JMP</span> <span class="Identifier">CHECK</span>
<span class="Identifier">TURN_OFF</span>:
<span class="Identifier">IN</span> <span class="Identifier">AL</span>,<span class="Constant">127</span>
<span class="Identifier">AND</span> <span class="Identifier">AL</span>,0<span class="Constant">1</span><span class="Identifier">Fh</span>
<span class="Identifier">JNZ</span> <span class="Identifier">OFF</span>
<span class="Identifier">JMP</span> <span class="Identifier">CHECK</span>
<span class="Identifier">OFF</span>:
<span class="Identifier">MOV</span> <span class="Identifier">DX</span>,<span class="Constant">127</span>
<span class="Identifier">MOV</span> <span class="Identifier">AL</span>,<span class="Constant">0</span>
<span class="Identifier">OUT</span> <span class="Identifier">DX</span>,<span class="Identifier">AX</span>
<span class="Identifier">MOV</span> <span class="Identifier">DX</span>,<span class="Constant">9</span>
<span class="Identifier">MOV</span> <span class="Identifier">AL</span> ,<span class="Constant">4</span>
<span class="Identifier">OUT</span> <span class="Identifier">DX</span>,<span class="Identifier">AL</span>
<span class="Identifier">JMP</span> <span class="Identifier">CHECK</span>
<span class="Identifier">ret</span>




</pre>
</body>
</html>
